{
    "openapi": "3.0.0",
    "info": {
        "title": "API integrative project",
        "version": "1.0.0",
        "description": "Documentation"
    },
    "server": [
        {
            "url": "http://localhost:4000/api/v1",
            "description": "Server local"
        }
    ],
    "paths": {
        "/login": {
            "post": {
                "summary": "login",
                "tags": ["Public"],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "properties": {
                                    "email": {
                                        "type": "string"
                                    },
                                    "password": {
                                        "type": "string"
                                    }
                                },
                                "required": [
                                    "email",
                                    "password"
                                ]
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "login successful"
                    },
                    "404": {
                        "description": "login error"
                    }
                }
            }
        },
        "/users": {
            "get": {
                "summary": "get all users",
                "tags": ["users"],
                "responses": {
                    "200": {
                        "description": "list of users"
                    }
                }
            }
        },
        "/users/id/{user_id}": {
            "get": {
                "summary": "get user by id",
                "tags": ["users"],
                "parameters": [{
                    "name": "user_id",
                    "in": "path",
                    "required": true,
                    "schema": {
                        "type": "integer"
                    }
                }],
                "responses": {
                    "200": {
                        "description": "user found"
                    },
                    "404": {
                        "description": "user not found"
                    }
                }
            }
        },
        "/users/email/{email}": {
            "get": {
                "summary":"get user by email",
                "tags":["users"],
                "parameters": [{
                    "name": "email",
                    "in": "path",
                    "required": true,
                    "schema": {
                        "type": "string"
                    }
                }],
                "responses": {
                    "200": {
                        "description":"user found by email"
                    },
                    "404": {
                        "description": "email not found"
                    }
                }
            }
        },
        "/users/create": {
            "post": {
                "summary": "create new user",
                "tags": ["users"],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "username": {
                                        "type": "string"
                                    },
                                    "email": {
                                        "type": "string"
                                    },
                                    "password": {
                                        "type": "string"
                                    }
                                },
                                "required": [
                                    "username",
                                    "email",
                                    "password"
                                ]
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "user created successfully"
                    },
                    "404": {
                        "description": "error creating user"
                    }
                }
            }
        },
        "/users/update/id/{user_id}": {
            "put": {
                "summary": "update user by id",
                "tags": ["users"],
                "parameters": [{
                    "name": "user_id",
                    "in": "path",
                    "required": true,
                    "schema": {
                        "type": "integer"
                    }
                }],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "username": {
                                        "type": "string"
                                    },
                                    "email": {
                                        "type": "string"
                                    },
                                    "password": {
                                        "type": "string"
                                    }
                                },
                                "required": [
                                    "username",
                                    "email",
                                    "password"
                                ]
                            }
                        }
                    }
                },
                "responses": {
                    "202": {
                        "description": "user updated successfully"
                    },
                    "404": {
                        "description": "error updating user"
                    }
                }
            }
        },
        "/user/update/email/{email}": {
            "post": {
                "summary": "update user by email",
                "tags": ["users"],
                "parameters": [{
                    "name": "email",
                    "in": "path",
                    "required": true,
                    "schema": {
                        "type": "string"
                    }
                }],
                "requestBody":{
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "username": {
                                        "type": "string"
                                    },
                                    "newEmail": {
                                        "type": "string"
                                    },
                                    "password": {
                                        "type": "string"
                                    }
                                },
                                "required": [
                                    "username",
                                    "newEmail",
                                    "password"
                                ]
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "the user was updated correctly"
                    },
                    "304": {
                        "description": "The user could not be updated by email"
                    }
                }
            }
        },
        "/users/delete/id/{user_id}": {
            "delete": {
                "summary": "delete user by id",
                "tags": ["users"],
                "parameters": [{
                    "name": "user_id",
                    "in": "path",
                    "required": true,
                    "schema": {
                        "type": "integer"
                        
                    }
                }],
                "responses": {
                    "200": {
                        "description": "user successfully deleted by id"
                    },
                    "404": {
                        "description": "Could not delete user by id"
                    }
                }
            }
        },
        "/users/delete/email/{email}": {
            "delete": {
                "summary": "delete user by email",
                "tags": ["users"],
                "parameters": [{
                    "name": "email",
                    "in": "path",
                    "required": true,
                    "schema": {
                        "type": "string"
                    }
                }],
                "responses": {
                    "200": {
                        "description": "User successfully deleted by email"
                    },
                    "404": {
                        "description": "Could not delete user by email"
                    }
                }
            }
        },
        "/employees": {
            "get": {
                "summary": "search all employees",
                "tags": ["employees"],
                "responses": {
                    "200": {
                        "description": "Showing successful employee"
                    },
                    "404": {
                        "description": "error displaying all employees"
                    }
                }
            }
        },
        "/employees/id/{id}": {
            "get": {
                "summary": "looking for employee by id",
                "tags": ["employees"],
                "parameters": [{
                    "name": "id",
                    "in": "path",
                    "required": true,
                    "schema": {
                        "type": "integer"
                    }
                }],
                "responses": {
                    "200": {
                        "description": "successful in finding an employee by ID"
                    },
                    "404": {
                        "description":"no job found by id"
                    }
                }
            }
        },
        "/employees/idenntification/{identification_number}": {
            "get": {
                "summary": "search for employees by ID number",
                "tags": ["employees"],
                "parameters": [{
                    "name": "idenntification_number",
                    "in": "path",
                    "required": true,
                    "schema": {
                        "type": "string"
                    }
                }],
                "responses": {
                    "200": {
                        "description": "Searching for an employee by ID number was successful"
                    },
                    "404": {
                        "description": "Error searching for employee by ID number"
                    }
                }
            }
        },
        "/employees/new/employee": {
            "post": {
                "summary": "add a new employee",
                "tags": ["employees"],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "full_name": {
                                        "type": "string"
                                    },
                                    "identification_number": {
                                        "type": "string"
                                    },
                                    "phone": {
                                        "type": "string"
                                    },
                                    "charge_id": {
                                        "type": "integer"
                                    },
                                    "company_id": {
                                        "type": "integer"
                                    },
                                    "user_id": {
                                        "type": "integer"
                                    }
                                },
                                "required": [
                                    "full_name",
                                    "identification_number",
                                    "phone",
                                    "charge_id",
                                    "company_id",
                                    "user_id"
                                ]
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "create successful employees"
                    },
                    "404": {
                        "description": "create successful employees"
                    }
                }
            }
        },
        "/employees/update/id/{employee_id}": {
            "put": {
                "summary": "update employee by id",
                "tags": ["employees"],
                "parameters": [{
                    "name": "employee_id",
                    "in": "path",
                    "required": true,
                    "schema": {
                        "type": "integer"
                    }
                }],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "full_name": {
                                        "type": "string"
                                    },
                                    "identification_number": {
                                        "type": "string"
                                    },
                                    "phone": {
                                        "type": "string"
                                    },
                                    "charge_id": {
                                        "type": "integer"
                                    },
                                    "company_id": {
                                        "type": "integer"
                                    },
                                    "user_id": {
                                        "type": "integer"
                                    }
                                },
                                "required": [
                                    "full_name",
                                    "identification_number",
                                    "phone",
                                    "charge_id",
                                    "company_id",
                                    "user_id"
                                ]
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "The employee was updated by ID successfully."
                    },
                    "304": {
                        "description": "Error updating employee by id"
                    }
                }
            }
        },
        "/employees/update/idenntification/{identification_number}": {
            "put": {
                "summary": "update employee by ID number",
                "tags": ["employees"],
                "parameters":[{
                    "name": "idenntification_number",
                    "in": "path",
                    "required": true,
                    "schema": {
                        "type": "integer"
                    }
                }],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "full_name": {
                                        "type": "string"
                                    },
                                    "newIdentification_number": {
                                        "type": "string"
                                    },
                                    "phone": {
                                        "type": "string"
                                    },
                                    "charge_id": {
                                        "type": "integer"
                                    },
                                    "company_id": {
                                        "type": "integer"
                                    },
                                    "user_id": {
                                        "type": "integer"
                                    }
                                },
                                "required": [
                                    "full_name",
                                    "newIdentification_number",
                                    "phone",
                                    "charge_id",
                                    "company_id",
                                    "user_id"
                                ]
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "The employee's ID number was updated successfully."
                    },
                    "304": {
                        "description": "Something went wrong while updating the employee ID number."
                    }
                    
                }
            }
        },
        "/employees/delete/id/{employee_id}": {
            "delete": {
                "summary": "delete user by id",
                "tags": ["employees"],
                "parameters": [{
                    "name": "employee_id",
                    "in": "path",
                    "required": true,
                    "schema": {
                        "type": "integer"
                    }
                }],
                "responses": {
                    "200": {
                        "description": "employee successfully deleted"
                    },
                    "404": {
                        "description": "Error deleting employee by ID"
                    }
                }
            }
        },
        "/employees/delete/idenntification/{identification_number}": {
            "delete": {
                "summary": "delete employee by ID number",
                "tags": ["employees"],
                "parameters": [{
                    "name": "idenntification_number",
                    "in": "path",
                    "required": true,
                    "schema": {
                        "type": "integer"
                    }
                }],
                "responses": {
                    "200": {
                        "description": "Employee eliminated by ID number with success"
                    },
                    "404": {
                        "description": "The user could not be deleted by ID number."
                    }
                }
            }
        },
        "/course": {
            "get": {
                "summary": "search all courses",
                "tags": ["courses"],
                "responses": {
                    "200": {
                        "description": "success in obtaining all the courses"
                    },
                    "404": {
                        "description": "Error getting the courses"
                    }
                }
            }
        },
        "/course/id/{course_id}": {
            "get": {
                "summary": "search course by id",
                "tags": ["courses"],
                "parameters": [{
                    "name": "course_id",
                    "in": "path",
                    "required": true,
                    "schema": {
                        "type": "integer"
                    }
                }],
                "responses": {
                    "200": {
                        "description": "Get course by ID with success"
                    },
                    "404": {
                        "description": "the course does not exist."
                    }
                }
            }
        },
        "/course/title/{title}": {
            "get": {
                "summary": "search for courses by title",
                "tags": ["courses"],
                "parameters": [{
                    "name": "title",
                    "in": "path",
                    "required": true,
                    "schema": {
                        "type": "string"
                    }
                }],
                "responses": {
                    "200": {
                        "description": "successful course search by title"
                    },
                    "404": {
                        "description": "Error searching for a course by title"
                    }
                }
            }
        },
        "/course/create": {
            "post": {
                "summary": "create new course",
                "tags": ["courses"],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "title": {
                                        "type": "string"
                                    },
                                    "description": {
                                        "type": "string"
                                    },
                                    "duration": {
                                        "type": "string"
                                    },
                                    "state_id": {
                                        "type": "integer"
                                    },
                                    "type_id": {
                                        "type": "integer"
                                    }
                                },
                                "required": [
                                    "title",
                                    "description",
                                    "duration",
                                    "state_id",
                                    "type_id"
                                ]
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "create a course successfully"
                    },
                    "404": {
                        "description": "error creating course"
                    }
                }
            }
        },
        "/course/update/{course_id}": {
            "put": {
                "summary": "edit course by id",
                "tags": ["courses"],
                "parameters": [{
                    "name": "course_id",
                    "in": "path",
                    "required": true,
                    "schema": {
                        "type": "integer"
                    }
                }],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "title": {
                                        "type": "string"
                                    },
                                    "description": {
                                        "type": "string"
                                    },
                                    "duration": {
                                        "type": "string"
                                    },
                                    "state_id": {
                                        "type": "integer"
                                    },
                                    "type_id": {
                                        "type": "integer"
                                    }
                                },
                                "required": [
                                    "title",
                                    "description",
                                    "duration",
                                    "state_id",
                                    "type_id"
                                ]
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Update course by ID successfully"
                    },
                    "404": {
                        "description": "Error updating course by ID"
                    }
                }
            }
        },
        "/course/delete/id/{course_id}": {
            "delete": {
                "summary": "delete course by id",
                "tags": ["courses"],
                "parameters": [{
                    "name": "course_id",
                    "in": "path",
                    "required": true,
                    "schema": {
                        "type": "integer"
                    }
                }],
                "responses": {
                    "200": {
                        "description": "delete course correctly"
                    },
                    "404": {
                        "description": "Could not delete course by id"
                    }
                }
            }
        },
        "/course/delete/title/{title}": {
            "delete": {
                "summary": "delete course by title",
                "tags": ["courses"],
                "parameters": [{
                    "name": "title",
                    "in": "path",
                    "required": true,
                    "schema": {
                        "type": "string"
                    }
                }],
                "responses": {
                    "200": {
                        "description": "Delete course by title successfully"
                    },
                    "404": {
                        "description": "Error deleting course by title"
                    }
                }
            }
        },
        "/course/personalized": {
            "get": {
                "summary": "search all custom courses",
                "tags": ["courses personalized"],
                "responses": {
                    "200": {
                        "description": "success in bringing all personalized courses"
                    },
                    "404": {
                        "description": "Error fetching all custom courses"
                    }
                }
            }
        },
        "/course/personalized/id/{id}": {
            "get": {
                "summary": "Search custom course by id",
                "tags": ["courses personalized"],
                "parameters": [{
                    "name": "id",
                    "in": "path",
                    "required": true,
                    "schema": {
                        "type": "integer"
                    }
                }],
                "responses": {
                    "200": {
                        "description": "successfully found custom course by Id"
                    },
                    "404": {
                        "description": "Error getting custom course by id"
                    }
                }
            }
        },
        "/course/personalized/title/{title}": {
            "get": {
                "summary": "search for a custom course by title",
                "tags": ["courses personalized"],
                "parameters": [{
                    "name": "title",
                    "in": "path",
                    "required": true,
                    "schema": {
                        "type": "string"
                    }
                }],
                "responses": {
                    "200": {
                        "description": "success in finding personalized course by title"
                    },
                    "404": {
                        "description": "Error finding custom course by title"
                    }
                }
            }
        },
        "/course/personalized/new": {
            "post": {
                "summary": "create a new custom course",
                "tags": ["courses personalized"],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json":{
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "title": {
                                        "type": "string"
                                    },
                                    "description": {
                                        "type": "string"
                                    },
                                    "duration": {
                                        "type": "string"
                                    },
                                    "company_id": {
                                        "type": "integer"
                                    },
                                    "state_id": {
                                        "type": "integer"
                                    },
                                    "type_id": {
                                        "type": "integer"
                                    }
                                },
                                "required": [
                                    "title",
                                    "description",
                                    "duration",
                                    "company_id",
                                    "state_id",
                                    "type_id"
                                ]
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "custom course created successfully"
                    },
                    "404": {
                        "description": "error creating a custom course"
                    }
                }
            }
        },
        "/course/personalized/update/{coursep_id}": {
            "post": {
                "summary": "update course by id",
                "tags": ["courses personalized"],
                "parameters": [{
                    "name": "coursep_id",
                    "in": "path",
                    "required": true,
                    "schema": {
                        "type": "integer"
                    }
                }],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "title": {
                                        "type": "string"
                                    },
                                    "description": {
                                        "type": "string"
                                    },
                                    "duration": {
                                        "type": "string"
                                    },
                                    "company_id": {
                                        "type": "integer"
                                    },
                                    "state_id": {
                                        "type": "integer"
                                    },
                                    "type_id": {
                                        "type": "integer"
                                    }
                                },
                                "required": [
                                    "title",
                                    "description",
                                    "duration",
                                    "company_id",
                                    "state_id",
                                    "type_id"
                                ]
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "custom course updated successfully"
                    },
                    "404": {
                        "description": "The personalized course could not be personalized"
                    }
                }
            }
        },
        "/course/personalized/delete/id/:coursep_id": {
            "delete": {
                "summary": "delete custom course by id",
                "tags": ["courses personalized"],
                "parameters": [{
                    "name": "corursep_id",
                    "in": "path",
                    "required": true,
                    "schema": {
                        "type": "integer"
                    }
                }],
                "responses": {
                    "200": {
                        "description": "delete custom course"
                    },
                    "404": {
                        "description": "error deleting custom course"
                    }
                }
            }
        },
        "/course/personalized/delete/title/{title}": {
            "delete": {
                "summary": "delete custom course by title",
                "tags": ["courses personalized"],
                "parameters": [{
                    "name": "title",
                    "in": "path",
                    "required": true,
                    "schema": {
                        "type": "string"
                    }
                }],
                "responses": {
                    "200": {
                        "description": "Course was successfully eliminated by title"
                    },
                    "404": {
                        "description": "Error deleting course by title"
                    }
                }
            }
        },
        "/registrantion/": {
            "get": {
                "summary": "search all course records",
                "tags": ["registrantions"],
                "responses": {
                    "200": {
                        "description": "success in obtaining the records"
                    },
                    "404": {
                        "description": "error could not get records"
                    }
                }
            }
        },
        "/registrantion/id/{registrantion_id}": {
            "get": {
                "summary": "search record by id",
                "tags": ["registrantions"],
                "parameters": [{
                    "name": "registration_id",
                    "in": "path",
                    "required": true,
                    "schema": {
                        "type": "integer"
                    }
                }],
                "responses": {
                    "200": {
                        "description": "Successful search for record by ID"
                    },
                    "404": {
                        "description": "Error getting record by id"
                    }
                }
            }
        },
        "/registrantion/new": {
            "post": {
                "summary": "create new record",
                "tags": ["registrantions"],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "employee_id": {
                                        "type": "integer"
                                    },
                                    "start_date": {
                                        "type": "string"
                                    },
                                    "end_date": {
                                        "type": "string"
                                    },
                                    "coursep_id": {
                                        "type": "string"
                                    },
                                    "course_id": {
                                        "type": "integer"
                                    }
                                },
                                "required": [
                                    "employee_id",
                                    "star_date",
                                    "end_date",
                                    "coursep_id",
                                    "course_id"
                                ]
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "the record was created successfully"
                    },
                    "404": {
                        "description": "error creating record"
                    }
                }
            }
        },
        "/registrantion/update/all/{registration_id}": {
            "put": {
                "summary": "edit record",
                "tags": ["registrantions"],
                "parameters": [{
                    "name": "registration_id",
                    "in": "path",
                    "required": true,
                    "schema": {
                        "type": "integer"
                    }
                }],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "employee_id": {
                                        "type": "integer"
                                    },
                                    "start_date": {
                                        "type": "string"
                                    },
                                    "end_date": {
                                        "type": "string"
                                    },
                                    "coursep_id": {
                                        "type": "string"
                                    },
                                    "course_id": {
                                        "type": "integer"
                                    }
                                },
                                "required": [
                                    "employee_id",
                                    "star_date",
                                    "end_date",
                                    "coursep_id",
                                    "course_id"
                                ]
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "the record was updated successfully"
                    },
                    "304": {
                        "description": "error updating entire record"
                    }
                }
            }
        },
        "/registrantion/update/{regsitrantion_id}": {
            "put": {
                "summary": "update record (start date) (end date)",
                "tags": ["registrantions"],
                "parameters": [{
                    "name": "registration_id",
                    "in": "path",
                    "required": true,
                    "schema": {
                        "type":"integer"
                    }
                }],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type":"object",
                                "properties": {
                                    "start_date": {
                                        "type": "string"
                                    },
                                    "end_date": {
                                        "type": "string"
                                    }
                                },
                                "required": [
                                    "star_date",
                                    "end_date"
                                ]
                            }
                        }
                    }
                    
                },
                "responses": {
                    "200": {
                        "description": "the record was updated successfully, (start date) (end date)"
                    },
                    "304": {
                        "description": "error updating record, (start date) (end date)"
                    }
                }
            }
        },
        "/registrantion/delete/{registration_id}": {
            "delete": {
                "summary": "delete record",
                "tags": ["registrantions"],
                "parameters": [{
                    "name": "registration_id",
                    "in": "path",
                    "required": true,
                    "schema": {
                        "type": "integer"
                    }
                }],
                "responses": {
                    "200": {
                        "description": "the record was deleted successfully"
                    },
                    "404": {
                        "description": "Error deleting the record"
                    }
                }
            }
        }
    }
}

